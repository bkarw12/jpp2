# Simple Programming Language Coded in Haskell (SPLCH)

### Functionality and documentation
The output of these source files is an SPLCH interpreter. SPLCH is an imperative language with very basic features.
The interpreter's input is a source file with SPLCH code. The interpreter then runs the program and outputs it's code. If the interpreter encounters and error, it is outputted to the standard error stream.

A program in SPLCH consists of a list of function definitons. A single function definition is made of it's return type, name, arguments list and the function's body. Functions' names must be unique. The list must contain a `int main() {...}` function, which is the first function executed during runtime. Functions with return types other than `void` must end with a `return` statement. Functions can be recursive and can be declared in any order.
All parameters are passed by value and behave like local variables in the function's body. Variables and functions can be redeclared with the same name and return type.

Basic features:
- data types: int, string, bool,
- operations: +, -, *, /, mod, ||, &&, ==, <, =<, etc.,
- predefined functions: `printInt()`, `printString()`, `printBool()`,
- `if(...) else` statements, `while(...)` loops, `for(i = a to b)` loops,
- runtime errors: division by 0, mod 0, `error()` function.

**Example programs** (both correct and not) can be found in the `prog` directory.

### Compiling and running the interpreter
Note that you need to have [GHC](https://www.haskell.org/ghc/) and [Make](https://www.gnu.org/software/make/) installed.\
**Attention!** This project is probably not compatible with newer GHC versions. It was originally built and tested using [GHC 8.6.5](https://www.haskell.org/ghc/download_ghc_8_6_5.html).
1. Clone the repository.
1. `cd` to the cloned project directory.
1. `cd src`.
1. Run `make`, to build the program.
1. Run `make clean`, to clean files created during compilation.
1. Run the interpreter: `./interpreter <FILENAME>`, where <FILENAME> is the path to the file containing code (e.g. from examples in the `prog/` directory).

\
The parser files were generated from the file `gram/gram.cf` using [BNFC](https://hackage.haskell.org/package/BNFC).

### Source files
- AbsGram.hs, LexGram.hs, ParGram.hs, PrintGram.hs, ErrM.hs - files generated by BNFC,
- Errors.hs - error messages (runtime and during static binding),
- CompileCheck.hs - static typing phase,
- Interpreter.hs - main interpreting phase code,
- Utils.hs - several auxillary declarations used in various modules,
- Main.hs - main file, executes functions from other files.
    
